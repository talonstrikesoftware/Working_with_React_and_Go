# Section 9: Adding GraphQ into the equation
Front-matter


88: What is GraphQL?
- advantages
  - allows not over-requesting
  - can get multiple stuff at one time
  - gives lots of control to the ui dev
- will use plain javascript

89: Setting up a schema and REST endpoint for GraphQL
- created graphql.go
- imported a new third party package
  - go get github.com/graphql-go/graphql
  - defined the schema and fields

90: Handling the GraphQL request
- Setup the code to actually do the graphql request

91: Implementing GraphQL requests for all movies
- Added a GraphQL component to list the movies and made the query from the client

92: Adding a search endpoint
- changed graphql route to be simplier
- added a "search" graphql query to the backend `graphql.go` file

93: Implementing GraphQL requests for search on front end
- hooked in the search to the GraphQL.js component

94: Displaying one movie using GraphQL
- complete the functionality to show a single movie via graphQL
- ultimately will render a poster image from the movie database 
  - Will need an account
- Basically this explains what he will do - no code

95: Updating the front end
- displaying one movie 
- created a `OneMovieGraphQL` component
  
96: Modifying the back end to handle poster images
- add the movie poster support
- added a `poster` field to movie table
- Used this `coalesce(poster, '')` to deal with loading columns that might be null from the database (in movies-db.go)
  - This is required by go as it is not null friendly
- Used https://mholt.github.io/json-to-go/ to convert the returned JSON from the movie db to the supported go struct:
  ```go
  type AutoGenerated struct {
	Page    int `json:"page"`
	Results []struct {
		Adult            bool    `json:"adult"`
		BackdropPath     string  `json:"backdrop_path"`
		GenreIds         []int   `json:"genre_ids"`
		ID               int     `json:"id"`
		OriginalLanguage string  `json:"original_language"`
		OriginalTitle    string  `json:"original_title"`
		Overview         string  `json:"overview"`
		Popularity       float64 `json:"popularity"`
		PosterPath       string  `json:"poster_path"`
		ReleaseDate      string  `json:"release_date"`
		Title            string  `json:"title"`
		Video            bool    `json:"video"`
		VoteAverage      float64 `json:"vote_average"`
		VoteCount        int     `json:"vote_count"`
	} `json:"results"`
	TotalPages   int `json:"total_pages"`
	TotalResults int `json:"total_results"`
}
  ```
  
97: Updating the front end to display the poster image
- display the posters on the front end
- have to resave the movie entries to get it to update the poster field
  
98: Cleaning things up
- need to debounce the search
